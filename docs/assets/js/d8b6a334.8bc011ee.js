"use strict";(self.webpackChunksite_generator_docusaurus=self.webpackChunksite_generator_docusaurus||[]).push([[6406],{36270:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"vouch-identity/vouch-identity/quorum-enrollment","title":"Quorum Enrollment","description":"1. Initialize the Vouch Identity Client","source":"@site/versioned_docs/version-0.101.0/01-vouch-identity/01-vouch-identity/03-quorum-enrollment.md","sourceDirName":"01-vouch-identity/01-vouch-identity","slug":"/vouch-identity/vouch-identity/quorum-enrollment","permalink":"/docs/0.101.0/vouch-identity/vouch-identity/quorum-enrollment","draft":false,"unlisted":false,"tags":[],"version":"0.101.0","sidebarPosition":3,"frontMatter":{},"sidebar":"identitySidebar","previous":{"title":"In Person Enrollment","permalink":"/docs/0.101.0/vouch-identity/vouch-identity/in-person-enrollment"},"next":{"title":"Social Recovery","permalink":"/docs/0.101.0/vouch-identity/vouch-identity/social-recovery"}}');var i=r(74848),o=r(28453);const l={},s="Quorum Enrollment",a={},c=[{value:"1. Initialize the Vouch Identity Client",id:"1-initialize-the-vouch-identity-client",level:2},{value:"2. Create a Quorum Enrollment Session",id:"2-create-a-quorum-enrollment-session",level:2},{value:"3. Distribute the Enrollment for Voting",id:"3-distribute-the-enrollment-for-voting",level:2},{value:"4. Approvers Cast Their Votes",id:"4-approvers-cast-their-votes",level:2},{value:"5. Check Quorum Threshold &amp; Finalize Enrollment",id:"5-check-quorum-threshold--finalize-enrollment",level:2},{value:"6. (Optional) Tie a Device to the Enrollment",id:"6-optional-tie-a-device-to-the-enrollment",level:2},{value:"Summary",id:"summary",level:3}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"quorum-enrollment",children:"Quorum Enrollment"})}),"\n",(0,i.jsx)(n.h2,{id:"1-initialize-the-vouch-identity-client",children:"1. Initialize the Vouch Identity Client"}),"\n",(0,i.jsx)(n.p,{children:"Set up your Vouch Identity client in your admin/backend environment:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// Example: JavaScript/TypeScript\nimport { VouchClient } from 'vouch-identity-sdk';\n\nconst vouchClient = new VouchClient({\n  apiKey: 'YOUR_API_KEY',\n  // ...other configuration\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2-create-a-quorum-enrollment-session",children:"2. Create a Quorum Enrollment Session"}),"\n",(0,i.jsxs)(n.p,{children:["When starting a new quorum enrollment (e.g., for a candidate user), call the SDK to initialize the process. This returns a unique ",(0,i.jsx)(n.code,{children:"enrollmentSessionId"})," and possibly a shareable link or code:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'const { enrollmentSessionId, enrollmentShareUrl } =\n  await vouchClient.createQuorumEnrollmentSession({\n    name: "Jane Doe",\n    email: "jane.doe@example.com",\n    // Additional metadata if needed\n  });\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"enrollmentSessionId"})})," uniquely identifies this enrollment."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"enrollmentShareUrl"})})," is a link that can be sent to approvers for voting."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"3-distribute-the-enrollment-for-voting",children:"3. Distribute the Enrollment for Voting"}),"\n",(0,i.jsxs)(n.p,{children:["Share the ",(0,i.jsx)(n.code,{children:"enrollmentShareUrl"})," or ",(0,i.jsx)(n.code,{children:"enrollmentSessionId"})," with the required voters. Depending on your implementation, they may:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Receive an email with a unique link."}),"\n",(0,i.jsx)(n.li,{children:"Visit a protected admin page in your app."}),"\n",(0,i.jsx)(n.li,{children:"Use a separate interface to cast their vote."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"4-approvers-cast-their-votes",children:"4. Approvers Cast Their Votes"}),"\n",(0,i.jsxs)(n.p,{children:["Each approver uses the SDK (or a custom interface you\u2019ve built around it) to vote. Here\u2019s an example of how an approver might cast an ",(0,i.jsx)(n.strong,{children:"approve"})," vote:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"await vouchClient.voteQuorumEnrollmentSession({\n  enrollmentSessionId,\n  vote: 'approve',         // \"approve\" or \"reject\"\n  voterId: 'teamLead123',  // Unique identifier for the approver\n  reason: 'All docs verified in person'\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"If an approver needs to reject for any reason:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"await vouchClient.voteQuorumEnrollmentSession({\n  enrollmentSessionId,\n  vote: 'reject',\n  voterId: 'teamLead456',\n  reason: 'Insufficient documentation'\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"5-check-quorum-threshold--finalize-enrollment",children:"5. Check Quorum Threshold & Finalize Enrollment"}),"\n",(0,i.jsxs)(n.p,{children:["Once enough approvers have ",(0,i.jsx)(n.strong,{children:"approved"})," (meeting the quorum threshold), finalize enrollment:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const result = await vouchClient.finalizeQuorumEnrollment(enrollmentSessionId);\n\nif (result.status === 'ENROLLED') {\n  console.log('Enrollment finalized successfully!');\n} else {\n  console.log('Enrollment still pending or rejected.');\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If the threshold is met, Vouch Identity finalizes the user\u2019s account and grants them access."}),"\n",(0,i.jsx)(n.li,{children:"If votes are still pending or a reject threshold is triggered, the enrollment remains in a pending or failed state."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"6-optional-tie-a-device-to-the-enrollment",children:"6. (Optional) Tie a Device to the Enrollment"}),"\n",(0,i.jsx)(n.p,{children:"If your workflow requires the newly enrolled user to register their device immediately, you can integrate a QR-based or code-based process (similar to In Person Enrollment):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const { deviceRegistrationUrl } =\n  await vouchClient.initiateDeviceRegistration({\n    userId: 'USER_ID_RETURNED_FROM_FINALIZE',\n  });\n\n// Display or share the deviceRegistrationUrl for the user to scan and register\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Create Quorum Session"}),": Set up a new quorum enrollment session, capturing the user\u2019s details."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Distribute"}),": Send the enrollment ID or share link to the required approvers."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Vote"}),": Approvers call the SDK to approve or reject."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Finalize"}),": Once the quorum threshold is met, finalize enrollment via ",(0,i.jsx)(n.code,{children:"finalizeQuorumEnrollment()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Manage & Assign"}),": Optionally register devices, assign roles, and manage permissions using other SDK methods."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This approach ensures that multiple stakeholders can weigh in before a new user is fully enrolled, adding a layer of oversight and security to your onboarding process."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>s});var t=r(96540);const i={},o=t.createContext(i);function l(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);